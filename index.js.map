{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n\n  // ==========================================================================\n  // 1. Base Logic (Header, Cookie Popup, AOS Init)\n  // ==========================================================================\n  const menuToggle = document.getElementById('menuToggle');\n  const headerNav = document.querySelector('.header__nav');\n  const navLinks = document.querySelectorAll('.nav__link');\n  const cookiePopup = document.getElementById('cookiePopup');\n  const acceptCookiesButton = document.getElementById('acceptCookies');\n  const cookieAccepted = localStorage.getItem('netiqedge_cookies_accepted');\n  const contactForm = document.getElementById('contactForm');\n  const captchaDisplay = document.getElementById('captchaDisplay');\n  const captchaInput = document.getElementById('captchaInput');\n  const submissionMessage = document.getElementById('submissionMessage');\n  const policyAccept = document.getElementById('policyAccept');\n  let correctAnswer = 0;\n\n\n  // Header Toggle Logic\n  const toggleMenu = () => {\n      headerNav.classList.toggle('is-open');\n      const iconElement = menuToggle.querySelector('svg');\n      if (headerNav.classList.contains('is-open')) {\n          iconElement.setAttribute('data-lucide', 'x');\n      } else {\n          iconElement.setAttribute('data-lucide', 'menu');\n      }\n      lucide.createIcons();\n  };\n  menuToggle.addEventListener('click', toggleMenu);\n  navLinks.forEach(link => {\n      link.addEventListener('click', () => {\n          if (window.innerWidth < 992) { setTimeout(toggleMenu, 200); }\n      });\n  });\n\n  // Cookie Popup Logic\n  const showCookiePopup = () => { if (!cookieAccepted) { cookiePopup.classList.remove('is-hidden'); } }\n  const hideCookiePopup = () => { cookiePopup.classList.add('is-hidden'); localStorage.setItem('netiqedge_cookies_accepted', 'true'); }\n  showCookiePopup();\n  acceptCookiesButton.addEventListener('click', hideCookiePopup);\n\n  // AOS Initialization (Required for entrance animations)\n  AOS.init({\n      duration: 800,\n      once: true,\n  });\n\n  // ==========================================================================\n  // 2. JS Анимация Hero-секции (Data Edge / Connection Flow)\n  // ==========================================================================\n  const canvas = document.getElementById('dataEdgeCanvas');\n\n  if (canvas) {\n      const ctx = canvas.getContext('2d');\n      let width = canvas.width = window.innerWidth;\n      let height = canvas.height = document.querySelector('.hero').offsetHeight;\n      const nodes = [];\n      const numNodes = 70;\n      const linkDistance = 150;\n      const particleColor = '#1976D2';\n      const trailColor = 'rgba(255, 255, 255, 0.5)';\n\n      class Node {\n          constructor() {\n              this.x = Math.random() * width; this.y = Math.random() * height;\n              this.radius = 1.5 + Math.random() * 0.5;\n              this.vx = (Math.random() - 0.5) * 0.4; this.vy = (Math.random() - 0.5) * 0.4;\n          }\n          update() { this.x += this.vx; this.y += this.vy; if (this.x < 0 || this.x > width) this.vx *= -1; if (this.y < 0 || this.y > height) this.vy *= -1; this.draw(); }\n          draw() { ctx.fillStyle = particleColor; ctx.beginPath(); ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2); ctx.fill(); }\n      }\n\n      const initNodes = () => { width = canvas.width = window.innerWidth; height = canvas.height = document.querySelector('.hero').offsetHeight; nodes.length = 0; for (let i = 0; i < numNodes; i++) { nodes.push(new Node()); } };\n\n      const connectNodes = () => {\n          ctx.lineWidth = 0.5;\n          for (let i = 0; i < nodes.length; i++) {\n              for (let j = i; j < nodes.length; j++) {\n                  const distance = Math.sqrt(Math.pow(nodes[i].x - nodes[j].x, 2) + Math.pow(nodes[i].y - nodes[j].y, 2));\n                  if (distance < linkDistance) {\n                      ctx.strokeStyle = `rgba(255, 87, 34, ${1 - distance / linkDistance})`;\n                      ctx.beginPath(); ctx.moveTo(nodes[i].x, nodes[i].y); ctx.lineTo(nodes[j].x, nodes[j].y); ctx.stroke();\n                  }\n              }\n          }\n      };\n\n      const animateNetwork = () => {\n          requestAnimationFrame(animateNetwork);\n          ctx.fillStyle = trailColor;\n          ctx.fillRect(0, 0, width, height);\n          connectNodes();\n          nodes.forEach(node => node.update());\n      };\n\n      window.addEventListener('resize', initNodes);\n      initNodes();\n      animateNetwork();\n  }\n\n\n  // ==========================================================================\n  // 3. JS Логика Формы Контактов и CAPTCHA\n  // ==========================================================================\n  function generateCaptcha() {\n      const captchaInput = document.getElementById('captchaInput');\n      const captchaMessage = document.getElementById('captchaMessage');\n      const operator = Math.random() < 0.5 ? '+' : '-';\n      let num1 = Math.floor(Math.random() * 15) + 5;\n      let num2 = Math.floor(Math.random() * 10) + 1;\n      if (operator === '-' && num1 < num2) { [num1, num2] = [num2, num1]; }\n      correctAnswer = operator === '+' ? num1 + num2 : num1 - num2;\n      captchaDisplay.textContent = `${num1} ${operator} ${num2} = ?`;\n      captchaInput.value = '';\n      captchaMessage.textContent = ''; // Очищаем сообщение\n  }\n\n  function validateCaptcha() {\n      const captchaInput = document.getElementById('captchaInput');\n      const captchaMessage = document.getElementById('captchaMessage');\n      if (!captchaInput.value.trim()) { return false; }\n      const userAnswer = parseInt(captchaInput.value.trim());\n      if (userAnswer === correctAnswer) { return true; }\n      else {\n          captchaMessage.textContent = 'Неверный ответ. Попробуйте еще раз.';\n          captchaMessage.style.color = '#FF4545';\n          generateCaptcha();\n          return false;\n      }\n  }\n\n  generateCaptcha();\n\n  contactForm.addEventListener('submit', function(event) {\n      event.preventDefault();\n      submissionMessage.style.display = 'none';\n\n      if (validateCaptcha() && policyAccept.checked) {\n          submissionMessage.style.display = 'block';\n          contactForm.reset();\n          generateCaptcha();\n          setTimeout(() => { submissionMessage.style.display = 'none'; }, 5000);\n      } else if (!policyAccept.checked) {\n          alert('Пожалуйста, примите условия использования и политику конфиденциальности.');\n          policyAccept.focus();\n      }\n  });\n});"],"names":["menuToggle","headerNav","navLinks","cookiePopup","acceptCookiesButton","cookieAccepted","contactForm","captchaDisplay","submissionMessage","policyAccept","correctAnswer","toggleMenu","iconElement","link","showCookiePopup","hideCookiePopup","canvas","ctx","width","height","nodes","numNodes","linkDistance","particleColor","trailColor","Node","initNodes","i","connectNodes","j","distance","animateNetwork","node","generateCaptcha","captchaInput","captchaMessage","operator","num1","num2","validateCaptcha","event"],"mappings":"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"}